# SavingGrace Environment Configuration
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control

# =============================================================================
# ENVIRONMENT
# =============================================================================
NODE_ENV=development
STAGE=dev  # dev, staging, or production

# =============================================================================
# AWS ACCOUNTS (us-west-2 ONLY)
# =============================================================================
# Frontend AWS Account (React, S3, CloudFront)
AWS_FRONTEND_ACCOUNT_ID=563334150189
AWS_FRONTEND_REGION=us-west-2
AWS_FRONTEND_ACCESS_KEY_ID=your-frontend-access-key
AWS_FRONTEND_SECRET_ACCESS_KEY=your-frontend-secret-key

# Backend AWS Account (Lambda, API Gateway, DynamoDB, etc.)
AWS_BACKEND_ACCOUNT_ID=921212210452
AWS_BACKEND_REGION=us-west-2
AWS_BACKEND_ACCESS_KEY_ID=your-backend-access-key
AWS_BACKEND_SECRET_ACCESS_KEY=your-backend-secret-key

# =============================================================================
# FRONTEND CONFIGURATION (Account: 563334150189)
# =============================================================================

# React App Settings
VITE_APP_NAME=SavingGrace
VITE_APP_VERSION=1.0.0

# API Configuration
VITE_API_BASE_URL=https://your-api-id.execute-api.us-west-2.amazonaws.com/dev
VITE_API_TIMEOUT=30000

# AWS Cognito (User Authentication)
VITE_COGNITO_REGION=us-west-2
VITE_COGNITO_USER_POOL_ID=us-west-2_xxxxxxxxx
VITE_COGNITO_CLIENT_ID=your-cognito-client-id
VITE_COGNITO_IDENTITY_POOL_ID=us-west-2:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# CloudFront Distribution
VITE_CLOUDFRONT_DOMAIN=your-distribution.cloudfront.net
VITE_CLOUDFRONT_DISTRIBUTION_ID=your-distribution-id

# S3 Frontend Hosting
FRONTEND_S3_BUCKET=savinggrace-frontend-dev
FRONTEND_S3_REGION=us-west-2

# =============================================================================
# BACKEND CONFIGURATION (Account: 921212210452)
# =============================================================================

# DynamoDB Tables
DYNAMODB_USERS_TABLE=SavingGrace-Users-dev
DYNAMODB_DONORS_TABLE=SavingGrace-Donors-dev
DYNAMODB_DONATIONS_TABLE=SavingGrace-Donations-dev
DYNAMODB_RECIPIENTS_TABLE=SavingGrace-Recipients-dev
DYNAMODB_DISTRIBUTIONS_TABLE=SavingGrace-Distributions-dev
DYNAMODB_INVENTORY_TABLE=SavingGrace-Inventory-dev
DYNAMODB_REGION=us-west-2

# S3 Storage (Receipts and Documents)
S3_RECEIPTS_BUCKET=savinggrace-receipts-dev
S3_RECEIPTS_REGION=us-west-2
S3_PRESIGNED_URL_EXPIRY=900  # 15 minutes in seconds

# API Gateway
API_GATEWAY_ID=your-api-gateway-id
API_GATEWAY_STAGE=dev
API_GATEWAY_REGION=us-west-2

# Lambda Configuration
LAMBDA_TIMEOUT=30
LAMBDA_MEMORY_SIZE=512
LAMBDA_RUNTIME=python3.11
LAMBDA_LOG_LEVEL=INFO

# Lambda Layer ARNs (after deployment)
LAMBDA_LAYER_SHARED_UTILS_ARN=arn:aws:lambda:us-west-2:921212210452:layer:savinggrace-shared-utils:1

# =============================================================================
# COGNITO AUTHENTICATION (Backend Account: 921212210452)
# =============================================================================

# Cognito User Pool
COGNITO_USER_POOL_ID=us-west-2_xxxxxxxxx
COGNITO_USER_POOL_ARN=arn:aws:cognito-idp:us-west-2:921212210452:userpool/us-west-2_xxxxxxxxx
COGNITO_CLIENT_ID=your-cognito-client-id
COGNITO_CLIENT_SECRET=your-cognito-client-secret
COGNITO_REGION=us-west-2

# Token Configuration
JWT_ACCESS_TOKEN_EXPIRY=3600  # 1 hour in seconds
JWT_REFRESH_TOKEN_EXPIRY=2592000  # 30 days in seconds

# =============================================================================
# NOTIFICATIONS
# =============================================================================

# AWS SES (Simple Email Service)
SES_REGION=us-west-2
SES_FROM_EMAIL=noreply@savinggrace.org
SES_FROM_NAME=SavingGrace
SES_REPLY_TO_EMAIL=support@savinggrace.org

# AWS SNS (Simple Notification Service)
SNS_REGION=us-west-2
SNS_TOPIC_ADMIN_ALERTS_ARN=arn:aws:sns:us-west-2:921212210452:savinggrace-admin-alerts-dev
SNS_TOPIC_EXPIRATION_ALERTS_ARN=arn:aws:sns:us-west-2:921212210452:savinggrace-expiration-alerts-dev

# Optional: SMS Notifications
SNS_SMS_ENABLED=false

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# CloudWatch
CLOUDWATCH_LOG_GROUP=/aws/lambda/savinggrace-dev
CLOUDWATCH_LOG_RETENTION_DAYS=30
CLOUDWATCH_METRICS_NAMESPACE=SavingGrace/Dev

# AWS X-Ray
XRAY_TRACING_ENABLED=true
XRAY_SAMPLING_RATE=0.1  # 10% of requests

# CloudTrail
CLOUDTRAIL_BUCKET=savinggrace-cloudtrail-dev
CLOUDTRAIL_ENABLED=true

# =============================================================================
# SECURITY
# =============================================================================

# AWS Secrets Manager
SECRETS_MANAGER_REGION=us-west-2
SECRETS_MANAGER_PREFIX=savinggrace/dev/

# AWS KMS (Key Management Service)
KMS_KEY_ID=your-kms-key-id
KMS_KEY_ARN=arn:aws:kms:us-west-2:921212210452:key/your-kms-key-id

# WAF (Web Application Firewall)
WAF_WEB_ACL_ID=your-waf-web-acl-id
WAF_ENABLED=true

# GuardDuty
GUARDDUTY_ENABLED=true

# =============================================================================
# PERFORMANCE & SCALING
# =============================================================================

# API Gateway Throttling
API_GATEWAY_BURST_LIMIT=2000
API_GATEWAY_RATE_LIMIT=1000

# DynamoDB Capacity
DYNAMODB_BILLING_MODE=PAY_PER_REQUEST  # or PROVISIONED
DYNAMODB_READ_CAPACITY=5  # Only if PROVISIONED
DYNAMODB_WRITE_CAPACITY=5  # Only if PROVISIONED

# Lambda Concurrency
LAMBDA_RESERVED_CONCURRENCY=10  # Optional, for critical functions

# Cache Configuration
API_GATEWAY_CACHE_ENABLED=true
API_GATEWAY_CACHE_TTL=300  # 5 minutes in seconds
CLOUDFRONT_CACHE_TTL=3600  # 1 hour in seconds

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Pagination
DEFAULT_PAGE_SIZE=50
MAX_PAGE_SIZE=100

# Inventory Alerts
EXPIRATION_WARNING_DAYS_1=7  # First warning
EXPIRATION_WARNING_DAYS_2=3  # Second warning
LOW_STOCK_THRESHOLD=10

# File Upload
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# Data Retention
SOFT_DELETE_RETENTION_DAYS=90
AUDIT_LOG_RETENTION_DAYS=365

# =============================================================================
# COMPLIANCE
# =============================================================================

# SOC2 Requirements
SOC2_COMPLIANCE_MODE=true
AUDIT_LOGGING_ENABLED=true
ENCRYPTION_AT_REST_ENABLED=true
ENCRYPTION_IN_TRANSIT_ENABLED=true

# GDPR/CCPA
DATA_PRIVACY_MODE=true
PII_ENCRYPTION_ENABLED=true
DATA_EXPORT_ENABLED=true
RIGHT_TO_DELETION_ENABLED=true

# =============================================================================
# CI/CD & DEPLOYMENT
# =============================================================================

# Deployment Settings
AUTO_DEPLOY_ENABLED=false
ROLLBACK_ON_FAILURE=true
DEPLOYMENT_NOTIFICATION_EMAIL=devops@savinggrace.org

# GitHub (if using GitHub Actions)
GITHUB_REPO=your-org/savinggrace
GITHUB_BRANCH=main

# AWS CodePipeline (if using)
CODEPIPELINE_NAME=savinggrace-pipeline-dev
CODEBUILD_PROJECT_NAME=savinggrace-build-dev

# =============================================================================
# COST MANAGEMENT
# =============================================================================

# Budget Alerts
AWS_BUDGET_MONTHLY_LIMIT=200
AWS_BUDGET_ALERT_EMAIL=admin@savinggrace.org
AWS_COST_EXPLORER_ENABLED=true

# S3 Lifecycle Policies
S3_LIFECYCLE_GLACIER_DAYS=90  # Move old receipts to Glacier after 90 days
S3_LIFECYCLE_DELETE_DAYS=365  # Delete from Glacier after 1 year

# =============================================================================
# TESTING
# =============================================================================

# Test Configuration
TEST_ENV=true
TEST_COGNITO_USER_EMAIL=test@example.com
TEST_COGNITO_USER_PASSWORD=TestPassword123!
TEST_API_TIMEOUT=10000

# Load Testing
LOAD_TEST_CONCURRENT_USERS=100
LOAD_TEST_DURATION_SECONDS=300
LOAD_TEST_RAMP_UP_SECONDS=60

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================

# Local Development
LOCAL_DEV_PORT=3000
LOCAL_API_PORT=3001
MOCK_AWS_SERVICES=false

# Debug Mode
DEBUG_MODE=false
VERBOSE_LOGGING=false
LOG_SQL_QUERIES=false  # If using RDS

# Hot Reload
HOT_RELOAD_ENABLED=true

# =============================================================================
# OPTIONAL INTEGRATIONS
# =============================================================================

# Slack Notifications (Optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_ALERTS_ENABLED=false

# Datadog/Monitoring (Optional)
DATADOG_API_KEY=your-datadog-api-key
DATADOG_ENABLED=false

# Sentry Error Tracking (Optional)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development
SENTRY_ENABLED=false

# =============================================================================
# NOTES
# =============================================================================
#
# 1. Copy this file to .env and fill in actual values
# 2. NEVER commit .env to version control
# 3. Use AWS Secrets Manager for production secrets
# 4. Frontend uses VITE_ prefix for environment variables
# 5. Backend Lambda functions get values from Systems Manager Parameter Store
# 6. Update values for staging and production environments
# 7. Some values are generated during infrastructure deployment
# 8. IAM users need appropriate permissions for both accounts
